# 质量管理系统 UI/UE 通用规范

## 1. 设计原则

### 1.1 核心原则
- **清晰直观**：信息层级分明，操作流程明确，减少用户认知负担
- **高效易用**：优化操作路径，减少不必要的步骤，提供快捷操作方式
- **数据完整**：确保所有业务相关信息被完整记录和展示
- **流程可控**：支持业务流程管理和状态跟踪，提供清晰的流程指引
- **一致统一**：保持整个系统的视觉风格、交互模式和术语定义的一致性

### 1.2 用户体验原则
- **以用户为中心**：根据不同角色设计相应的功能和界面
- **可预测性**：操作结果符合用户预期，提供清晰的反馈
- **容错性**：防止用户错误操作，提供错误恢复机制
- **可访问性**：支持键盘导航，确保信息对所有用户可访问
- **响应迅速**：页面加载和操作响应及时，提供加载状态反馈

## 2. 页面布局规范

### 2.1 整体布局
- 采用标准后台系统布局：顶部导航栏 + 左侧菜单 + 主内容区
- 顶部导航栏：系统logo、用户信息、全局操作按钮
- 左侧菜单：功能模块导航，支持多级菜单和折叠
- 主内容区：当前功能的主要操作和信息展示区域

### 2.2 页面结构
- **页面头部**：页面标题、操作按钮（新增、导入、导出等）
- **搜索区域**：筛选条件输入框和按钮
- **数据展示区域**：表格、列表或卡片形式的数据展示
- **操作区域**：针对数据的操作按钮和工具
- **模态框/抽屉**：用于详情查看、新增和编辑操作

### 2.3 响应式设计
- 支持屏幕宽度：1024px 以上
- 主内容区自适应宽度
- 表格支持横向滚动
- 表单在小屏幕上自动调整布局

## 3. 组件设计规范

### 3.1 按钮
- **主要按钮**：蓝色背景，用于核心操作（如提交、确认）
- **次要按钮**：灰色背景，用于次要操作（如重置、取消）
- **危险按钮**：红色背景，用于删除等危险操作
- **文字按钮**：无背景，用于行内操作（如查看、编辑）
- **图标按钮**：仅包含图标的按钮，用于空间有限的场景

### 3.2 表格
- **固定表头**：确保滚动时表头可见
- **行选择**：支持单选和多选
- **分页**：默认每页20条数据，支持自定义页码
- **排序**：支持点击表头进行排序
- **操作列**：放置查看、编辑、删除等操作按钮
- **状态标签**：使用不同颜色区分不同状态

### 3.3 表单
- **布局**：采用栅格布局，默认每行3-4个字段
- **标签**：左对齐或顶部对齐，保持一致性
- **输入框**：统一的高度和宽度，适当的内边距
- **验证**：实时验证，错误信息显示在字段下方
- **条件字段**：根据用户选择动态显示/隐藏相关字段

### 3.4 模态框
- **尺寸**：根据内容调整，默认宽度800px，复杂表单可使用1400px
- **标题**：清晰描述模态框用途
- **按钮**：底部放置操作按钮，主要按钮在右侧
- **关闭**：支持右上角关闭按钮和点击外部关闭

### 3.5 标签页
- **使用场景**：当信息较多时，按类别组织到不同标签页
- **顺序**：按逻辑顺序排列，常用标签页放在前面
- **状态**：当前选中标签页高亮显示

## 4. 交互模式规范

### 4.1 操作反馈
- **成功提示**：操作成功后显示绿色提示信息
- **错误提示**：操作失败后显示红色提示信息
- **警告提示**：需要用户注意的信息显示黄色提示
- **加载状态**：数据加载时显示加载动画

### 4.2 确认机制
- **危险操作**：删除、提交等危险操作需要二次确认
- **未保存提示**：用户离开未保存的表单时提供提示
- **批量操作**：批量操作前显示选中数量和操作确认

### 4.3 导航模式
- **面包屑**：显示当前页面在系统中的位置
- **返回按钮**：支持从详情页返回列表页
- **菜单高亮**：当前选中的菜单项高亮显示

### 4.4 搜索与筛选
- **搜索框**：提供清晰的占位符和搜索按钮
- **筛选条件**：支持多种筛选条件组合
- **重置功能**：提供一键重置所有筛选条件的功能
- **实时筛选**：根据用户输入实时筛选数据（可选）

## 5. 表单设计规范

### 5.1 字段设计
- **必填字段**：明确标识必填字段（*）
- **字段顺序**：按业务逻辑顺序排列字段
- **字段分组**：相关字段分组显示，使用卡片或标题分隔
- **默认值**：为常用选项提供合理的默认值

### 5.2 验证规则
- **格式验证**：对日期、邮箱、电话号码等进行格式验证
- **范围验证**：对数字、日期等进行范围限制
- **唯一性验证**：对唯一标识符进行唯一性检查
- **关联验证**：对关联字段进行一致性验证

### 5.3 表单提交
- **提交按钮**：明确标识，禁用状态下提供提示
- **表单重置**：提供重置按钮，重置所有字段到初始状态
- **自动保存**：重要表单可提供自动保存功能（可选）
- **提交状态**：提交过程中显示加载状态，禁用提交按钮

## 6. 数据展示规范

### 6.1 状态展示
- **状态标签**：使用不同颜色和文字区分不同状态
- **状态流转**：清晰展示业务对象的状态流转路径
- **状态统计**：提供状态分布的可视化展示（可选）

### 6.2 数据格式
- **日期时间**：统一使用 YYYY-MM-DD HH:mm 格式
- **数字格式**：根据业务需求使用适当的小数位数和千分位分隔
- **货币格式**：使用适当的货币符号和小数位数
- **百分比**：使用 % 符号，根据需求确定小数位数

### 6.3 数据可视化
- **图表类型**：根据数据类型选择合适的图表（柱状图、折线图、饼图等）
- **数据标签**：提供清晰的数据标签和图例
- **交互功能**：支持图表的缩放、筛选和详情查看

### 6.4 导出功能
- **导出格式**：支持 Excel、PDF 等常用格式
- **导出内容**：导出当前筛选条件下的数据
- **导出进度**：显示导出进度和结果提示

## 7. 用户体验优化

### 7.1 性能优化
- **页面加载**：页面加载时间控制在2秒以内
- **数据加载**：使用分页或虚拟滚动减少数据加载量
- **缓存策略**：对常用数据进行缓存，减少服务器请求
- **图片优化**：压缩图片大小，使用适当的格式

### 7.2 操作优化
- **快捷键**：为常用操作提供快捷键支持
- **批量操作**：支持对多条数据进行批量处理
- **快捷入口**：为常用功能提供快捷入口
- **模板功能**：提供常用表单的模板功能

### 7.3 帮助与支持
- **提示信息**：为复杂操作提供提示信息
- **操作指南**：提供在线操作指南或帮助文档
- **错误提示**：提供清晰的错误信息和解决方案
- **反馈渠道**：提供用户反馈渠道

## 8. 技术实现规范

### 8.1 前端技术栈
- **框架**：Vue 3
- **组件库**：Element Plus
- **路由**：Vue Router
- **状态管理**：Pinia
- **网络请求**：Axios
- **日期处理**：Day.js
- **构建工具**：Vite

### 8.2 代码规范
- **命名规范**：组件、变量、函数等使用清晰的命名
- **代码结构**：按功能模块化组织代码
- **注释规范**：为复杂代码提供必要的注释
- **代码复用**：提取通用组件和工具函数

### 8.3 接口设计
- **RESTful API**：使用 RESTful 风格的 API 设计
- **响应格式**：统一的响应格式，包含状态码、消息和数据
- **错误处理**：统一的错误处理机制
- **版本控制**：支持 API 版本控制

### 8.4 安全性
- **输入验证**：前端和后端双重验证
- **权限控制**：基于角色的访问控制
- **数据加密**：敏感数据加密传输和存储
- **防止注入**：防止 SQL 注入、XSS 等安全问题

## 9. 示例场景

### 9.1 列表页面
- 工具栏包含新增、编辑、查看、删除、导出、刷新按钮
- 搜索区域包含关键字搜索和筛选条件
- 数据表格支持排序、筛选、分页和行操作

### 9.2 详情页面
- 页面头部包含返回按钮、标题和操作按钮
- 主信息区域展示核心信息
- Tab页签按类别组织详细信息
- 操作按钮提供编辑、删除等功能

### 9.3 表单页面
- 模态框或抽屉形式的表单
- 字段按逻辑分组，使用卡片或标题分隔
- 实时验证和错误提示
- 条件字段根据用户选择动态显示/隐藏

## 10. 实施与维护

### 10.1 设计评审
- 新功能开发前进行UI/UE设计评审
- 确保设计符合通用规范和业务需求
- 收集相关角色的反馈意见

### 10.2 开发规范
- 开发团队严格遵循通用规范
- 使用统一的组件库和样式
- 定期进行代码审查

### 10.3 测试验证
- 功能测试：验证所有功能正常工作
- 兼容性测试：确保在不同浏览器和设备上正常显示
- 性能测试：验证页面加载和操作响应速度
- 用户测试：收集用户反馈，持续优化

### 10.4 持续优化
- 定期收集用户反馈
- 分析用户行为数据
- 根据业务需求和技术发展持续优化UI/UE

## 11. 附录

### 11.1 颜色规范
| 颜色类型 | 颜色值 | 用途 |
|----------|--------|------|
| 主色调 | #1890ff | 主要按钮、高亮状态 |
| 成功色 | #52c41a | 成功提示、已完成状态 |
| 警告色 | #faad14 | 警告提示、待处理状态 |
| 错误色 | #f5222d | 错误提示、危险操作 |
| 信息色 | #1890ff | 信息提示 |
| 禁用色 | #d9d9d9 | 禁用状态 |

### 11.2 状态规范
| 状态类型 | 颜色 | 说明 |
|----------|------|------|
| 待处理 | #faad14 | 黄色，新创建的记录，尚未处理 |
| 处理中 | #1890ff | 蓝色，正在进行处理 |
| 已完成 | #52c41a | 绿色，处理流程已完成 |
| 已关闭 | #d9d9d9 | 灰色，流程结束且归档 |
| 异常 | #f5222d | 红色，出现异常情况 |

### 11.3 图标规范
- 使用 Element Plus 提供的图标库
- 保持图标的一致性和表意性
- 图标大小根据使用场景调整

### 11.4 术语定义
- 统一系统中的术语定义，确保所有模块使用一致的术语
- 定期更新术语表，确保团队成员理解和使用正确的术语


列表页面需优化的内容：
列表页采用三部分内容：
1.工具栏div：这个div到上面的padding=10px，class=toolbar，不要pagetitle。工具栏按钮包括：新增，编辑，查看，删除，导出，刷新。
 ① 编辑 / 查看：仅选中 1 条数据时可点击，否则不可点击；删除：多选后可点击，点击后需弹窗确认；
 ③ 工具栏编辑 / 查看：选中 1 条数据后点击，在页面区域打开对应页面（非弹窗、非 navbar 新标签）
2.搜索条件div，class=card，formitem之间要紧凑一些。
3.表格列表div，class=table-container，列表的行高要优化一下，紧凑一点，用户需要看到尽可能多的数据

在系统中新增一级菜单"检验数据模型"，并在该菜单下创建以下二级功能页面：
1. 缺陷分类管理页面
2. 不良现象管理页面 
3. 不良原因管理页面
4. 对应的表单页面

具体要求如下：

一、管理页面开发要求：
1. 页面布局规范：
   - 严格参照"来料不合格处置单"的现有UI/UE设计规范
   - 采用相同的栅格系统、间距标准和配色方案
   - 保持一致的字体大小和图标使用规范

2. 功能实现要求：
   - 数据展示：表格形式展示insp_main_data_req.md中定义的所有字段
   - 查询功能：支持多条件组合查询和分页功能
   - 新增功能：提供"新增"按钮，点击跳转至表单页面
   - 编辑功能：每条记录提供编辑操作入口
   - 删除功能：支持单条和多条记录删除，需二次确认
   - 导出功能：支持Excel格式导出当前查询结果
   - 刷新功能：提供手动刷新按钮和自动刷新选项
   - 新增/编辑/查看的打开方式遵循来料不合格处置单的规范。

二、表单页面开发要求：
1. 表单设计规范：
   - 完整实现insp_main_data_req.md中定义的所有表单字段
   - 严格按照文件要求实现字段验证规则
   - 保持与"来料不合格处置单"相同的表单控件样式，主表数据在页面直接展示，其他从表数据则使用tab页面的方式展示。
   - 采用相同的表单布局和分组方式

2. 交互流程要求：
   - 新增流程：空白表单→填写→提交→返回列表
   - 编辑流程：带数据表单→修改→提交→返回列表
   - 删除操作：需二次确认并提示操作结果

三、技术要求：
1. 技术实现：
   - 使用系统现有的前端框架（如Vue/React等）
   - 采用相同的状态管理方案
   - 复用现有的组件库和工具函数

2. 质量保证：
   - 编写完整的单元测试，覆盖率≥90%
   - 进行全面的UI测试，包括交互测试和视觉回归测试
   - 实现响应式设计，确保在PC/平板/手机端正常显示

四、交付物要求：
1. 代码交付：
   - 完整的前端页面源代码
   - 配套的单元测试代码
   - 必要的文档注释

2. 文档更新：
   - 更新用户操作手册，包含新增功能的使用说明
   - 更新系统菜单结构文档