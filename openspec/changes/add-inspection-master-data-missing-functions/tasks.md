# 任务清单: 检验主数据管理缺失功能

## 阶段1: 基础分类独立管理

### 任务1.1: 创建缺陷分类管理页面
- [ ] 创建 `src/views/inspection-model/DefectCategory.vue` 组件
- [ ] 实现左侧树状分类展示（支持多级）
- [ ] 实现右侧分类详情显示和编辑表单
- [ ] 实现新增根分类、子分类功能
- [ ] 实现编辑、删除功能（带级联删除确认）
- [ ] 实现分类搜索功能
- [ ] 验证页面布局和交互符合UI/UX规范

### 任务1.2: 缺陷分类路由和导航集成
- [ ] 在路由配置中添加缺陷分类路由
- [ ] 在左侧导航菜单中添加"缺陷分类管理"菜单项
- [ ] 验证路由跳转正常

### 任务1.3: 创建量检具类型管理页面
- [ ] 创建 `src/views/inspection-model/MeasureType.vue` 组件
- [ ] 实现左侧树状类型展示（支持多级）
- [ ] 实现右侧类型详情显示和编辑表单
- [ ] 实现新增根类型、子类型功能
- [ ] 实现编辑、删除功能（带级联删除确认）
- [ ] 实现类型搜索功能
- [ ] 验证页面布局和交互符合UI/UX规范

### 任务1.4: 量检具类型路由和导航集成
- [ ] 在路由配置中添加量检具类型路由
- [ ] 在左侧导航菜单中添加"量检具类型管理"菜单项
- [ ] 验证路由跳转正常

## 阶段2: 物料检验规格管理

### 任务2.1: 创建物料检验规格列表页面
- [ ] 创建 `src/views/inspection-model/MaterialSpec.vue` 组件
- [ ] 实现搜索表单（物料、检验项目、数据类型）
- [ ] 实现数据表格展示
- [ ] 实现新增、编辑、删除功能
- [ ] 实现批量删除功能
- [ ] 实现导出功能

### 任务2.2: 实现物料检验规格编辑表单
- [ ] 创建编辑弹窗组件
- [ ] 实现数据类型切换（计量型/计数型）
- [ ] 实现计量型表单（目标值、上限、下限、单位）
- [ ] 实现计数型表单（标准描述、标准代码、期望值、样板图）
- [ ] 实现表单验证（必填项、数据类型、范围校验）

### 任务2.3: 物料检验规格路由和导航集成
- [ ] 在路由配置中添加物料检验规格路由
- [ ] 在左侧导航菜单中添加"物料检验规格"菜单项
- [ ] 验证路由跳转正常

## 阶段3: 检验模板管理

### 任务3.1: 创建检验模板列表页面
- [ ] 创建 `src/views/inspection-model/InspTemplateList.vue` 组件
- [ ] 实现搜索表单（模板编码、名称、状态、版本）
- [ ] 实现数据表格展示
- [ ] 实现状态标签显示（草稿/审批中/已批准/作废）
- [ ] 实现新增、查看、编辑、删除功能
- [ ] 实现状态变更功能（草稿→审批中→已批准→作废）
- [ ] 实现版本管理（查看历史版本）
- [ ] 实现导出功能

### 任务3.2: 创建检验模板编辑页面
- [ ] 创建 `src/views/inspection-model/InspTemplateEdit.vue` 组件
- [ ] 实现模板基本信息表单（模板编码、名称、版本、状态）
- [ ] 实现模板明细表格
- [ ] 实现明细行新增、编辑、删除功能
- [ ] 实现明细行拖拽排序
- [ ] 实现检验项目、抽样规则、检验方法、量检具类型关联选择
- [ ] 实现IPQC频次配置（频次类型、频次值、单位）
- [ ] 实现SPC开关、实验室检验开关
- [ ] 实现表单验证

### 任务3.3: 检验模板路由和导航集成
- [ ] 在路由配置中添加检验模板路由（列表和编辑）
- [ ] 在左侧导航菜单中添加"检验模板"菜单项
- [ ] 验证路由跳转正常

## 阶段4: 关联知识库管理

### 任务4.1: 扩展不良现象编辑页面
- [ ] 在 `DefectPhenomenonEdit.vue` 中新增"关联原因"Tab
- [ ] 实现双侧穿梭框选择器
- [ ] 实现原因列表查询和搜索
- [ ] 实现权重配置功能
- [ ] 实现关联关系的保存和加载

### 任务4.2: 扩展不良原因编辑页面
- [ ] 在 `DefectCauseEdit.vue` 中新增"FMEA关联"Tab
- [ ] 实现FMEA失效模式选择器（多选）
- [ ] 实现关联关系的保存和加载
- [ ] 实现关联关系的删除功能

### 任务4.3: 创建现象-原因关联管理页面（可选）
- [ ] 创建 `src/views/inspection-model/PhenomenonCauseMapping.vue` 组件
- [ ] 实现左侧现象树选择
- [ ] 实现右侧关联原因穿梭框
- [ ] 实现权重配置
- [ ] 验证关联关系保存和加载正常

### 任务4.4: 关联知识库路由和导航集成（可选）
- [ ] 在路由配置中添加现象-原因关联路由（如创建独立页面）
- [ ] 在左侧导航菜单中添加菜单项（如创建独立页面）
- [ ] 验证路由跳转正常

## 阶段5: 数据一致性和集成

### 任务5.1: 实现缺陷分类与不良现象数据联动
- [ ] 在缺陷分类删除时检查是否被不良现象引用
- [ ] 实现级联删除或阻止删除的提示
- [ ] 验证数据一致性

### 任务5.2: 实现量检具类型与量检具台账数据联动
- [ ] 在量检具类型删除时检查是否被量检具台账引用
- [ ] 实现级联删除或阻止删除的提示
- [ ] 验证数据一致性

### 任务5.3: 实现知识库关联数据清理
- [ ] 在不良现象删除时级联删除现象-原因关联
- [ ] 在不良原因删除时级联删除原因-FMEA关联
- [ ] 验证数据一致性

## 阶段6: 验证和测试

### 任务6.1: 功能验证
- [ ] 验证所有新增页面的增删改查功能
- [ ] 验证表单验证规则
- [ ] 验证数据联动和一致性
- [ ] 验证权限控制（如已实现）

### 任务6.2: UI/UX验证
- [ ] 验证页面布局符合设计规范
- [ ] 验证交互体验流畅
- [ ] 验证响应式布局在不同屏幕尺寸下的表现
- [ ] 验证加载状态和错误提示

### 任务6.3: 性能验证
- [ ] 验证页面加载速度（<500ms）
- [ ] 验证大数据量下的表格渲染性能
- [ ] 验证树状数据的加载性能

### 任务6.4: 代码质量检查
- [ ] 运行类型检查（vue-tsc）
- [ ] 运行代码检查（如配置了ESLint）
- [ ] 确保代码符合项目规范
- [ ] 确保TypeScript类型定义完整

## 依赖关系

- 任务1.1和1.3可以并行开发
- 任务2.1依赖任务1.2和1.4（路由配置参考）
- 任务3.1和3.2可以并行开发（但3.2依赖3.1完成列表页）
- 任务4.1和4.2可以并行开发
- 任务4.3是可选的，可以延后实现
- 任务5.1-5.3依赖前面阶段完成
- 任务6.1-6.4依赖所有功能开发完成

## 并行化机会

以下任务可以并行开发以提高效率：
- 任务1.1和任务1.3
- 任务2.1和任务3.1
- 任务4.1和任务4.2
- 阶段5的各个子任务（在对应阶段完成后）
- 阶段6的各个子任务（在功能开发完成后）
