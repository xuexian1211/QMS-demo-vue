# 物料检验规格管理

## ADDED Requirements

### Requirement: 物料检验检验规格管理页面
The system MUST provide a material inspection specification management page that supports configuring specific specifications for material-inspection item combinations. 系统应提供物料检验规格管理页面，支持为物料-检验项目组合配置具体规格

#### Scenario: 质量工程师访问物料检验规格管理页面
- 当质量工程师访问"物料检验规格"页面时
- 系统应显示物料检验规格列表
- 系统应提供搜索表单，支持按物料、检验项目、数据类型筛选
- 系统应显示表格列：物料ID、物料名称、检验项目代码、检验项目名称、数据类型、规格摘要

#### Scenario: 质量工程师创建新的计量型物料检验规格
- 当质量工程师点击"新增"按钮时
- 系统应显示新增规格表单
- 系统应允许用户选择物料和检验项目
- 系统应允许用户选择数据类型为"计量型"
- 系统应显示计量型表单字段：目标值、上限(USL)、下限(LSL)、单位
- 系统应在保存后刷新规格列表

#### Scenario: 质量工程师创建新的计数型物料检验规格
- 当质量工程师点击"新增"按钮时
- 系统应显示新增规格表单
- 系统应允许用户选择物料和检验项目
- 系统应允许用户选择数据类型为"计数型"
- 系统应显示计数型表单字段：标准描述、标准代码、期望值、样板图上传
- 系统应在保存后刷新规格列表

#### Scenario: 质量工程师编辑物料检验规格
- 当质量工程师点击"编辑"按钮时
- 系统应显示编辑表单，预填充当前规格信息
- 系统应根据数据类型显示相应的表单字段
- 系统应允许用户修改规格信息
- 系统应在保存后更新规格列表

#### Scenario: 质量工程师删除物料检验规格
- 当质量工程师点击"删除"按钮时
- 系统应显示确认对话框
- 系统应在用户确认后删除该规格
- 系统应刷新规格列表

#### Scenario: 质量工程师批量删除物料检验规格
- 当质量工程师选中多条规格记录并点击"批量删除"按钮时
- 系统应显示确认对话框，提示删除选中记录的数量
- 系统应在用户确认后删除选中的所有规格
- 系统应刷新规格列表

### Requirement: 动态表单字段显示
The system MUST dynamically display different form fields based on data type. 系统应根据数据类型动态显示不同的表单字段

#### Scenario: 用户选择计量型数据类型
- 当用户在表单中选择"计量型"数据类型时
- 系统应显示以下字段：目标值、上限(USL)、下限(LSL)、单位
- 系统应隐藏计数型相关字段

#### Scenario: 用户选择计数型数据类型
- 当用户在表单中选择"计数型"数据类型时
- 系统应显示以下字段：标准描述、标准代码、期望值、样板图上传
- 系统应隐藏计量型相关字段

#### Scenario: 系统在编辑模式下正确显示字段
- 当用户编辑已存在的规格时
- 系统应根据当前规格的数据类型显示相应的字段
- 系统应正确预填充字段值

### Requirement: 物料检验规格表单验证
The system MUST support form validation for material inspection specifications. 系统应支持物料检验规格的表单验证

#### Scenario: 验证计量型规格的必填字段
- 当用户保存计量型规格时
- 系统应验证目标值、上限、下限、单位是否已填写
- 如果必填字段未填写，系统应显示错误提示并阻止保存

#### Scenario: 验证计数型规格的必填字段
- 当用户保存计数型规格时
- 系统应验证标准描述是否已填写
- 如果必填字段未填写，系统应显示错误提示并阻止保存

#### Scenario: 验证上下限数值范围
- 当用户保存计量型规格时
- 系统应验证上限应大于目标值，下限应小于目标值
- 如果范围不正确，系统应显示错误提示并阻止保存

#### Scenario: 验证规格唯一性
- 当用户保存新规格时
- 系统应验证该物料-检验项目组合的规格是否已存在
- 如果规格已存在，系统应显示错误提示并阻止保存

### Requirement: 物料检验规格搜索筛选功能
The system MUST support search and filtering for material inspection specifications. 系统应支持物料检验规格的搜索和筛选功能

#### Scenario: 质量工程师按物料搜索
- 当质量工程师在搜索表单中输入物料名称或ID时
- 系统应过滤规格列表，显示匹配的规格
- 系统应支持模糊搜索

#### Scenario: 质量工程师按检验项目搜索
- 当质量工程师在搜索表单中输入检验项目名称或代码时
- 系统应过滤规格列表，显示匹配的规格
- 系统应支持模糊搜索

#### Scenario: 质量工程师按数据类型筛选
- 当质量工程师选择数据类型下拉框时
- 系统应过滤规格列表，显示指定数据类型的规格

#### Scenario: 质量工程师重置搜索条件
- 当质量工程师点击"重置"按钮时
- 系统应清空所有搜索条件
- 系统应显示所有规格记录

### Requirement: 物料检验规格导出功能
The system MUST support exporting material inspection specifications. 系统应支持物料检验规格的导出功能

#### Scenario: 质量工程师导出物料检验规格
- 当质量工程师点击"导出"按钮时
- 系统应将当前筛选后的规格列表导出为Excel文件
- 系统应包含物料信息、检验项目信息、数据类型、规格详情等完整信息
