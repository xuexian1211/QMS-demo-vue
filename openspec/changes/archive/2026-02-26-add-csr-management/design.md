## Context
客户特殊要求(CSR)是汽车行业QMS体系的重要组成部分(如IATF 16949要求)。当前QMS主要关注标准化的CTQ技术指标，缺乏对非标准化管理协议（如特定的响应时间、文件留存期、特定模板、检验频次等）的系统化管控机制。这导致CSR大多停留在纸面，依赖人工记忆，极易造成违规或漏检。

## Goals
- 将纸面的CSR协议解构为高度结构化的**条款**。
- 实现三层 CSR 管理模型：解析(输入)、映射(关联业务)、执行(触发拦截/任务)。
- 与现有的核心业务(如CTQ、不合格品处理、出货检验、变更管理MOC)深度集成。

## Decisions
- **核心模型**：分为解析层（维护协议）、映射层（配置干预逻辑）、执行层（结合报工或检验等业务动作触发校验）。
- **关键字段（数据库）建议**：
  - `Customer_ID`: 关联客户实体
  - `Requirement_Type`: 条款类型，分为 体系要求/过程要求/交付要求。
  - `Standard_Value`: 要求的标准约束（如: 24h, 15years, 100%, 1.67 等）。
  - `Trigger_Condition`: 触发条件节点（如: 产生不合格品时、每年一次、首检时、报工达到500件时）。
  - `Severity_Level`: 严格度等级（一般、重要、强控）。强控项未达成可自动锁定出货。
- **CTQ 集成与联动**：在 CTQ 配置页面增加“来源 CSR”超链接。两者建立关联关系，当 CSR 协议版本升级/修改时，系统会自动提醒(或标记)对应的 CTQ 判定标准需要同步更新。

## Risks / Trade-offs
- **复杂性风险**：任务自动化引擎需要灵活的解析器或策略模式，前端配置界面交互可能过于复杂。
- **缓解方案**：初版引擎可以采用硬编码的策略模板（如“时间限制类”、“频次触发类”、“文件模板类”），用户只需填写数值参数即可，后期再扩展更自由的规则引擎。
