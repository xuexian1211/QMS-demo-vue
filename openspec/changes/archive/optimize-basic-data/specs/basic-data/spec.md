## 新增需求 (ADDED Requirements)

### 需求: 基础数据的多组织架构支持
系统必须(SHALL)为主数据实体（客户、供应商、物料、工艺路线）支持多组织（`orgId`）维度的过滤和数据隔离，以确保各个工厂能够独立维护自身的业务数据，同时也能共享查看集团级的全局数据。

#### 场景: 为新物料分配所属组织
- **当 (WHEN)** 用户创建新的物料档案时
- **那么 (THEN)** 所提交的数据集中必须包含一个 `orgId` (所属组织) 字段
- **并且 (AND)** 默认值应为当前用户所属的组织（工厂）
- **并且 (AND)** 应提供一个"集团全局"（orgId 为空或特定通用 ID）的选项，以供分配集团级通用物料

#### 场景: 按组织维度过滤供应商档案
- **当 (WHEN)** 用户查看供应商档案列表时
- **那么 (THEN)** 系统必须在搜索查询面板中展示一个"所属组织"过滤器
- **并且 (AND)** 表格必须仅展示属于所选对应组织以及属于"集团全局"的供应商数据

### 需求: 基础数据的 Excel 批量导入
系统必须(SHALL)为客户、供应商和物料/产品提供通过 Excel 模板进行批量导入的能力，以简化初始系统数据的录入流程。

#### 场景: 下载批量导入模板
- **当 (WHEN)** 用户点击供应商档案页面的"导入"按钮时
- **那么 (THEN)** 系统必须提供"下载 Excel 导入模板"的选项
- **并且 (AND)** 下载的模板必须包含所有必需的业务列以及数据验证规则（例如：对必填字段予以标记说明）

#### 场景: 批量导入物料数据
- **当 (WHEN)** 用户在物料档案页面上传已经填好的 Excel 模板文件时
- **那么 (THEN)** 系统必须解析文件行数据，并对照约束条件（如编码唯一性）进行数据验证
- **并且 (AND)** 如果行数据存在缺失或无效错误，系统必须弹出一个包含具体错误失败原因的错误报告列表
- **并且 (AND)** 校验通过的合法数据行必须被成功追加保存到数据库中

### 需求: 物料分类的层级树状布局
系统必须(SHALL)为物料分类及物料产品实现分栏布局视图（左侧展示树状结构，右侧展示表格数据），使层级较深的数据更易于浏览。

#### 场景: 根据左侧分类树浏览物料产品
- **当 (WHEN)** 用户导航至物料档案（Material Product）列表页时
- **那么 (THEN)** 页面布局必须包含一个左侧面板，将“物料分类”呈现为可交互的树形（Tree）组件
- **并且 (AND)** 用户点击树中的某一分类节点时，必须联动过滤右侧的数据表格，仅显示映射到该分类（或其任意子分类）下的物料数据

### 需求: 资质证明与附件管理
系统必须(SHALL)在客户和供应商档案中支持业务和质量资质证明等附件文件的上传与状态追踪。

#### 场景: 上传供应商资质文件
- **当 (WHEN)** 用户编辑某个供应商的档案时
- **那么 (THEN)** 弹窗/页面中必须包含一个"附件与资质管理"区块
- **并且 (AND)** 用户必须能上传相关文件（如 ISO9001 证书）并能够指定该证书的有效期失效日期
- **并且 (AND)** 系统必须在列表中清晰展示所有上传的文件，并且能够在使用期限过期时给与明确的过期标识和提示
