# 提案: 物料档案编辑页面重构

## 概述

将物料档案的编辑/查看功能从弹窗模式改为独立页面模式（类似 `InspPlanEdit.vue`），采用Tab页签布局展示物料的完整信息，同时优化工艺路线的工序明细展示。

## 动机

### 当前问题

1. **物料编辑采用弹窗模式**：空间受限，无法展示复杂的关联信息（工艺路线、检验配置、检验规格）
2. **工艺路线工序明细**：检验配置按钮功能缺失，用户无法在查看模式下配置工序检验方案
3. **信息分散**：工艺路线、检验配置、检验规格需要分别打开不同的抽屉查看

### 期望效果

1. 物料编辑/查看采用独立页面，包含Tab页签展示完整信息
2. 工艺路线工序明细支持在页面内直接配置检验方案
3. 统一的UI/UE风格，与检验方案编辑页面保持一致

## 建议的解决方案

### 1. 物料档案编辑页面

创建 `MaterialProductEdit.vue`，布局结构：

```
┌─────────────────────────────────────────────────────────┐
│ [← 返回]  物料档案 - M001 铝锭  [V1.0] [启用]   [保存] │
├─────────────────────────────────────────────────────────┤
│ ┌───────────────────────────────────────────────────┐   │
│ │                    基本信息                        │   │
│ │  物料编码: M001    物料名称: 铝锭    规格: ADC12  │   │
│ │  分类: 原材料      单位: kg         来源: 采购    │   │
│ └───────────────────────────────────────────────────┘   │
│ ┌───────────────────────────────────────────────────┐   │
│ │ [工艺路线] [检验配置] [检验规格]                   │   │
│ ├───────────────────────────────────────────────────┤   │
│ │                  Tab内容区域                       │   │
│ └───────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────┘
```

**Tab页签内容：**
- **工艺路线**：该物料关联的工艺路线列表，可展开查看工序明细
  - 每个工序显示已配置的检验类型标签（首检/巡检/末检）
  - 提供"配置"按钮，点击后打开检验配置弹窗
  - 弹窗内可直接配置首检方案、巡检方案（含频次）、末检方案
  - 配置完成后实时更新工序的检验状态显示
- **检验配置**：IQC/FQC/OQC方案绑定管理（一体化展示，按类型分组）
- **检验规格**：物料检验规格管理（检验项目、数据类型、规格值等）

### 2. 工艺路线工序明细增强

在物料编辑页面的工艺路线Tab中：
- 工序明细表格增加"检验配置"按钮
- 点击后打开工序检验配置弹窗（使用已有的 `OperationInspConfigModal`）
- 支持首检/巡检/末检方案配置

### 3. 路由配置

新增路由：
- `/basic-data/material-products/view/:id` - 查看物料
- `/basic-data/material-products/edit/:id` - 编辑物料
- `/basic-data/material-products/create` - 新增物料

## 成功标准

1. 物料档案列表点击"查看/编辑"跳转到独立页面
2. 页面包含基本信息、工艺路线、检验配置、检验规格四个Tab
3. 工艺路线Tab内可直接配置工序检验方案
4. 检验配置Tab一体化展示IQC/FQC/OQC绑定
5. 页面风格与 `InspPlanEdit.vue` 保持一致

## 实施范围

1. 新建 `MaterialProductEdit.vue` 页面组件
2. 修改 `MaterialProduct.vue` 列表页操作跳转逻辑
3. 增加路由配置
4. 复用现有组件：`OperationInspConfigModal`、`MaterialSpecDrawer`
