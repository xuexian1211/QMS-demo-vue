# 验收标准：检验主数据重构 - 第一阶段

## 总体验收标准

### 功能完整性验收
- ✅ 所有计划的功能模块均已实现
- ✅ 所有页面能够正常访问和操作
- ✅ 所有路由配置正确，跳转正常
- ✅ 所有导航菜单项显示正常

### 代码质量验收
- ✅ 代码通过 TypeScript 类型检查（vue-tsc 无错误）
- ✅ 代码符合项目规范（使用组合式 API、TypeScript）
- ✅ 无控制台错误和警告
- ✅ 所有接口定义完整且准确

### 性能验收
- ✅ 页面首次加载时间 < 500ms
- ✅ 表格渲染 100 条记录时间 < 200ms
- ✅ 树状数据加载时间 < 300ms
- ✅ 搜索过滤响应时间 < 100ms

### UI/UX验收
- ✅ 所有页面布局符合设计规范
- ✅ 所有交互操作流畅无卡顿
- ✅ 所有表单验证提示清晰准确
- ✅ 所有加载状态显示正常
- ✅ 所有错误提示友好明确

---

## 模块1: 基础数据重构验收标准

### 1.1 不良现象管理重构验收

#### 页面布局验收
- [ ] 页面采用 toolbar + search-card + data-table 标准布局
- [ ] 缺陷分类已从内嵌拆分为独立页面
- [ ] 页面头部显示清晰的标题和操作按钮
- [ ] 搜索表单采用 inline 布局，宽度合理
- [ ] 表格采用 size="small"，优化行高

#### 功能验收
- [ ] 新增不良现象功能正常，表单验证有效
- [ ] 编辑不良现象功能正常，数据回显正确
- [ ] 删除不良现象功能正常，删除前有确认提示
- [ ] 搜索功能支持按现象名称、代码搜索
- [ ] 搜索结果过滤准确，无延迟
- [ ] 批量删除功能正常，可同时删除多条记录
- [ ] 导出功能正常，导出数据完整准确
- [ ] 严重等级标签显示正确（CR=红色、MA=橙色、MI=绿色）

#### 数据验收
- [ ] 不良现象包含字段：id, orgId, categoryId, code, name, severity, processType, description
- [ ] 严重等级枚举值：CR, MA, MI
- [ ] 缺陷分类关联正确，categoryId 有效

#### 分类树验收
- [ ] 分类树支持多级展示（至少3级）
- [ ] 新增根分类功能正常
- [ ] 新增子分类功能正常，自动填充父级ID
- [ ] 编辑分类功能正常
- [ ] 删除分类功能正常，包含级联删除提示
- [ ] 树节点搜索功能正常
- [ ] 树节点展开/折叠状态保持正常

---

## 模块2: 缺失功能补充验收标准

### 2.1 缺陷分类独立管理验收

#### 页面验收
- [ ] 页面路径 /inspection-model/defect-category 可访问
- [ ] 导航菜单显示"缺陷分类"菜单项
- [ ] 页面采用左右分栏布局（左侧树 + 右侧详情）
- [ ] 页面样式与其他基础数据页面一致

#### 功能验收
- [ ] "新增根分类"按钮功能正常
- [ ] "添加子类"按钮功能正常，自动填充父级ID
- [ ] 编辑分类功能正常，表单回显正确
- [ ] 删除分类功能正常，包含级联删除确认
- [ ] 搜索功能支持按分类名称、代码搜索
- [ ] 搜索过滤准确，实时响应
- [ ] 导出功能正常，Excel格式正确
- [ ] 导出数据包含完整信息（代码、名称、父级、描述、层级）

---

### 2.3 物料检验规格管理验收

#### 动态表单验收
- [ ] 选择"计量型"时显示：目标值、上限、下限、单位
- [ ] 选择"计数型"时显示：标准描述、标准代码、期望值
- [ ] 字段切换无闪烁，过渡自然
- [ ] 历史数据编辑时正确显示对应类型的字段

#### 表单验证验收
- [ ] 物料和检验项目为必填项
- [ ] 计量型：目标值、上限、下限、单位为必填
- [ ] 计数型：标准描述为必填
- [ ] 计量型：上限 > 目标值，下限 < 目标值 验证有效
- [ ] 规格唯一性验证有效（同一物料+检验项目不能重复）
- [ ] 验证错误提示清晰准确

---

### 2.4 检验模板管理验收

#### 编辑页验收
- [ ] 页面路径 /inspection-model/insp-template/create 可访问
- [ ] 页面路径 /inspection-model/insp-template/edit/:id 可访问
- [ ] 页面采用详情页式返回布局
- [ ] 返回按钮功能正常，返回列表页
- [ ] 标题显示正确（新增/编辑/查看）
- [ ] 只读模式下所有字段禁用

#### 状态管理验收
- [ ] 提交审批功能正常（草稿→审批中）
- [ ] 审批通过功能正常（审批中→已批准）
- [ ] 审批拒绝功能正常（审批中→草稿）
- [ ] 作废功能正常（已批准/审批中/草稿→作废）
- [ ] 已批准状态下禁止编辑
- [ ] 作废状态下禁止编辑和删除

---

## 最终验收条件

### 必须满足的条件
1. ✅ 所有功能验收项目通过率 ≥ 95%
2. ✅ 所有UI/UX验收项目通过率 = 100%
3. ✅ 所有性能验收项目通过率 ≥ 90%
4. ✅ 代码质量检查无严重错误
5. ✅ 无阻塞性Bug

### 可接受的条件
1. ⚠️ 性能验收通过率 ≥ 80%（需说明优化计划）
2. ⚠️ 非阻塞性Bug不超过3个（需给出修复计划）

### 不接受的条件
1. ❌ 功能验收通过率 < 95%
2. ❌ 存在阻塞性Bug
3. ❌ 代码质量检查存在严重错误
4. ❌ 页面加载时间 > 1s
5. ❌ 数据丢失或损坏
