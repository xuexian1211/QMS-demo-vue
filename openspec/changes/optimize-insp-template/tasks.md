# Tasks: 检验模板与方案核心模型优化实施计划

## 1. 模型定义与类型增强
- [x] 更新 `src/types/index.ts` 中的 `InspTemplate` 定义。
- [ ] 在 `src/types/index.ts` 中补全 `InspPlan` 和 `MaterialSpec` 的完整字段定义项。

## 2. 检验模板（L2）完善
- [x] 修改 `InspTemplateEdit.vue`：
    - [x] 增加特性分类（SC/CC...）字段。
    - [x] 实现选择检验项目后自动填充默认配置的逻辑。
    - [x] 增加"配置不良现象"管理入口。
- [x] 修改 `InspTemplateList.vue`：
    - [x] 完善状态流转操作（提交审批、审批通过等）。
    - [x] 优化历史版本展示。

## 3. 检验方案与规格（L3）核心实施
- [ ] **匹配引擎重构**：
    - [x] 初步实现优先级匹配逻辑 (`src/utils/inspPlanMatcher.ts`)。
    - [ ] 增强引擎以支持 `ipqcType` (首检/巡检/末检) 和 `triggerCondition`。
- [ ] **检验方案管理 (`InspPlanEdit.vue`)**：
    - [ ] 重构基本信息，支持多维度业务上下文绑定。
    - [ ] 增加首检、巡检、末检的切换逻辑。
    - [ ] 实现顶部的“匹配模拟器”功能。
- [ ] **物料规格管理**：
    - [ ] 在方案编辑页深度集成规格快速录入。
    - [ ] 完善规格表单，支持计量型（公差、目标值）与计数型（标准描述）的分支逻辑。

## 4. 验证与演示
- [x] 更新 Mock 数据，模拟复杂的方案匹配场景。
- [ ] 验证端到端的任务组装逻辑：事件 -> 方案 -> 模板 -> 规格。
- [ ] 录制展示视频，重点演示"项目-规格-方案"的联动效果。
