import{d as H,r as v,a as T,c as O,e as c,x as t,s as u,q as a,o as C,h as o,y as J,P as L,p as M,f as S,t as z,F as Y}from"./index-CAjnGs0g.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"department-management"},W={style:{"margin-bottom":"16px",display:"flex","justify-content":"space-between","align-items":"center"}},X=H({__name:"Department",setup(Z){const k=v(""),x=v(""),m=v(!1),y=v(null),N=[{title:"部门名称",dataIndex:"name",key:"name"},{title:"部门编码",dataIndex:"code",key:"code"},{title:"上级部门",dataIndex:"parent",key:"parent"},{title:"部门负责人",dataIndex:"manager",key:"manager"},{title:"联系电话",dataIndex:"phone",key:"phone"},{title:"人员数量",dataIndex:"memberCount",key:"memberCount"},{title:"状态",dataIndex:"status",key:"status"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"操作",key:"action"}],$=v([{key:"1",name:"质量部",code:"QUALITY",parent:"总公司",manager:"王经理",phone:"021-12345679",memberCount:25,status:"active",createTime:"2023-01-01"},{key:"2",name:"生产部",code:"PRODUCTION",parent:"总公司",manager:"李经理",phone:"021-12345680",memberCount:120,status:"active",createTime:"2023-01-01"},{key:"3",name:"技术部",code:"TECH",parent:"总公司",manager:"张经理",phone:"021-12345681",memberCount:35,status:"active",createTime:"2023-01-01"}]),B=T({current:1,pageSize:10,total:3,showSizeChanger:!0,showQuickJumper:!0,showTotal:s=>`共 ${s} 条记录`}),n=T({name:"",code:"",parent:"",manager:"",phone:"",memberCount:0,status:"active",sortOrder:0,function:"",remark:""}),D=()=>{console.log("搜索:",k.value)},R=s=>{y.value=s,Object.assign(n,s),m.value=!0},V=s=>{s.status=s.status==="active"?"inactive":"active"},j=s=>{console.log("删除记录:",s)},q=()=>{console.log("保存:",n),m.value=!1,y.value=null,Object.assign(n,{name:"",code:"",parent:"",manager:"",phone:"",memberCount:0,status:"active",sortOrder:0,function:"",remark:""})};return(s,e)=>{const F=u("a-input-search"),d=u("a-select-option"),b=u("a-select"),f=u("a-button"),P=u("a-tag"),E=u("a-table"),_=u("a-input"),r=u("a-form-item"),p=u("a-col"),g=u("a-row"),w=u("a-input-number"),U=u("a-textarea"),Q=u("a-form"),A=u("a-modal");return C(),O("div",K,[c("div",W,[c("div",null,[t(F,{value:k.value,"onUpdate:value":e[0]||(e[0]=l=>k.value=l),placeholder:"搜索部门名称、编码",style:{width:"300px","margin-right":"16px"},onSearch:D},null,8,["value"]),t(b,{value:x.value,"onUpdate:value":e[1]||(e[1]=l=>x.value=l),placeholder:"状态筛选",style:{width:"120px"}},{default:a(()=>[t(d,{value:""},{default:a(()=>[...e[14]||(e[14]=[o("全部",-1)])]),_:1}),t(d,{value:"active"},{default:a(()=>[...e[15]||(e[15]=[o("启用",-1)])]),_:1}),t(d,{value:"inactive"},{default:a(()=>[...e[16]||(e[16]=[o("禁用",-1)])]),_:1})]),_:1},8,["value"])]),c("div",null,[t(f,{type:"primary",onClick:e[2]||(e[2]=l=>m.value=!0)},{default:a(()=>[t(J(L)),e[17]||(e[17]=o(" 新增部门 ",-1))]),_:1})])]),t(E,{columns:N,"data-source":$.value,pagination:B},{bodyCell:a(({column:l,record:i})=>[l.key==="status"?(C(),M(P,{key:0,color:i.status==="active"?"green":"red"},{default:a(()=>[o(z(i.status==="active"?"启用":"禁用"),1)]),_:2},1032,["color"])):S("",!0),l.key==="action"?(C(),O(Y,{key:1},[t(f,{type:"link",size:"small",onClick:I=>R(i)},{default:a(()=>[...e[18]||(e[18]=[o("编辑",-1)])]),_:1},8,["onClick"]),t(f,{type:"link",size:"small",onClick:I=>V(i)},{default:a(()=>[o(z(i.status==="active"?"禁用":"启用"),1)]),_:2},1032,["onClick"]),t(f,{type:"link",size:"small",onClick:I=>j(i)},{default:a(()=>[...e[19]||(e[19]=[o("删除",-1)])]),_:1},8,["onClick"])],64)):S("",!0)]),_:1},8,["data-source","pagination"]),t(A,{open:m.value,"onUpdate:open":e[13]||(e[13]=l=>m.value=l),title:y.value?"编辑部门":"新增部门",width:"700px",onOk:q},{default:a(()=>[t(Q,{model:n,layout:"vertical"},{default:a(()=>[t(g,{gutter:16},{default:a(()=>[t(p,{span:12},{default:a(()=>[t(r,{label:"部门名称",required:""},{default:a(()=>[t(_,{value:n.name,"onUpdate:value":e[3]||(e[3]=l=>n.name=l),placeholder:"输入部门名称"},null,8,["value"])]),_:1})]),_:1}),t(p,{span:12},{default:a(()=>[t(r,{label:"部门编码",required:""},{default:a(()=>[t(_,{value:n.code,"onUpdate:value":e[4]||(e[4]=l=>n.code=l),placeholder:"输入部门编码"},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(p,{span:12},{default:a(()=>[t(r,{label:"上级部门"},{default:a(()=>[t(b,{value:n.parent,"onUpdate:value":e[5]||(e[5]=l=>n.parent=l),placeholder:"选择上级部门"},{default:a(()=>[t(d,{value:""},{default:a(()=>[...e[20]||(e[20]=[o("无",-1)])]),_:1}),t(d,{value:"1"},{default:a(()=>[...e[21]||(e[21]=[o("总公司",-1)])]),_:1}),t(d,{value:"2"},{default:a(()=>[...e[22]||(e[22]=[o("质量部",-1)])]),_:1}),t(d,{value:"3"},{default:a(()=>[...e[23]||(e[23]=[o("生产部",-1)])]),_:1}),t(d,{value:"4"},{default:a(()=>[...e[24]||(e[24]=[o("技术部",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(p,{span:12},{default:a(()=>[t(r,{label:"部门负责人"},{default:a(()=>[t(_,{value:n.manager,"onUpdate:value":e[6]||(e[6]=l=>n.manager=l),placeholder:"输入部门负责人"},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(p,{span:12},{default:a(()=>[t(r,{label:"联系电话"},{default:a(()=>[t(_,{value:n.phone,"onUpdate:value":e[7]||(e[7]=l=>n.phone=l),placeholder:"输入联系电话"},null,8,["value"])]),_:1})]),_:1}),t(p,{span:12},{default:a(()=>[t(r,{label:"人员数量"},{default:a(()=>[t(w,{value:n.memberCount,"onUpdate:value":e[8]||(e[8]=l=>n.memberCount=l),placeholder:"输入人员数量",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(g,{gutter:16},{default:a(()=>[t(p,{span:12},{default:a(()=>[t(r,{label:"状态"},{default:a(()=>[t(b,{value:n.status,"onUpdate:value":e[9]||(e[9]=l=>n.status=l),placeholder:"选择状态"},{default:a(()=>[t(d,{value:"active"},{default:a(()=>[...e[25]||(e[25]=[o("启用",-1)])]),_:1}),t(d,{value:"inactive"},{default:a(()=>[...e[26]||(e[26]=[o("禁用",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(p,{span:12},{default:a(()=>[t(r,{label:"排序号"},{default:a(()=>[t(w,{value:n.sortOrder,"onUpdate:value":e[10]||(e[10]=l=>n.sortOrder=l),placeholder:"输入排序号",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(r,{label:"部门职能"},{default:a(()=>[t(U,{value:n.function,"onUpdate:value":e[11]||(e[11]=l=>n.function=l),placeholder:"输入部门职能描述",rows:3},null,8,["value"])]),_:1}),t(r,{label:"备注"},{default:a(()=>[t(U,{value:n.remark,"onUpdate:value":e[12]||(e[12]=l=>n.remark=l),placeholder:"输入备注信息",rows:2},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])])}}}),te=G(X,[["__scopeId","data-v-f40db4a6"]]);export{te as default};
