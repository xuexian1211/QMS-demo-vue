import{d as B,r as i,c as f,x as e,q as a,s as n,o as _,h as l,y as T,P as U,p as $,f as y,t as s,F as E}from"./index-BPMZt9Bz.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"msa-page"},O={key:0},j=B({__name:"MSA",setup(H){const N=i(!1),m=i(!1),k=i(""),R=i(""),o=i(),D=[{title:"分析编号",dataIndex:"analysisNo",key:"analysisNo"},{title:"量具名称",dataIndex:"gaugeName",key:"gaugeName"},{title:"测量特性",dataIndex:"characteristic",key:"characteristic"},{title:"Gage R&R",dataIndex:"gaugeRR",key:"gaugeRR"},{title:"ndc",dataIndex:"ndc",key:"ndc"},{title:"分析日期",dataIndex:"analysisDate",key:"analysisDate"},{title:"操作",key:"action"}],I=[{title:"零件",dataIndex:"part",key:"part"},{title:"测量员1",dataIndex:"operator1",key:"operator1"},{title:"测量员2",dataIndex:"operator2",key:"operator2"},{title:"测量员3",dataIndex:"operator3",key:"operator3"}],M=i([{key:"1",analysisNo:"MSA20231114001",gaugeName:"游标卡尺",characteristic:"发动机缸体直径",gaugeRR:12.5,ndc:15,analysisDate:"2023-11-14",ev:8.2,av:9.3,pv:95.8,tv:100,measureData:[{key:"1",part:"P001",operator1:50.12,operator2:50.13,operator3:50.11},{key:"2",part:"P002",operator1:50.15,operator2:50.14,operator3:50.16}]},{key:"2",analysisNo:"MSA20231114002",gaugeName:"千分尺",characteristic:"齿轮厚度",gaugeRR:8.7,ndc:22,analysisDate:"2023-11-13",ev:5.5,av:6.8,pv:97.2,tv:100,measureData:[]}]),S=d=>d>30?"red":d>10?"orange":"green",A=d=>{o.value=d,m.value=!0},w=d=>{console.log("导出MSA报告:",d)};return(d,t)=>{const v=n("a-button"),c=n("a-col"),z=n("a-select"),V=n("a-input-search"),b=n("a-row"),h=n("a-tag"),x=n("a-table"),g=n("a-card"),r=n("a-descriptions-item"),C=n("a-descriptions"),G=n("a-modal");return _(),f("div",q,[e(g,{title:"MSA测量系统分析",bordered:!1},{default:a(()=>[e(b,{gutter:16,style:{"margin-bottom":"16px"}},{default:a(()=>[e(c,{span:6},{default:a(()=>[e(v,{type:"primary",onClick:t[0]||(t[0]=u=>N.value=!0)},{default:a(()=>[e(T(U)),t[4]||(t[4]=l(" 新建MSA分析 ",-1))]),_:1})]),_:1}),e(c,{span:6},{default:a(()=>[e(z,{value:k.value,"onUpdate:value":t[1]||(t[1]=u=>k.value=u),placeholder:"选择量具",style:{width:"100%"},options:[{value:"caliper",label:"游标卡尺"},{value:"micrometer",label:"千分尺"},{value:"cmm",label:"三坐标测量机"},{value:"gage",label:"量规"}]},null,8,["value"])]),_:1}),e(c,{span:12},{default:a(()=>[e(V,{value:R.value,"onUpdate:value":t[2]||(t[2]=u=>R.value=u),placeholder:"搜索分析编号"},null,8,["value"])]),_:1})]),_:1}),e(x,{columns:D,"data-source":M.value,pagination:{pageSize:10}},{bodyCell:a(({column:u,record:p})=>[u.key==="gaugeRR"?(_(),$(h,{key:0,color:S(p.gaugeRR)},{default:a(()=>[l(s(p.gaugeRR)+"%",1)]),_:2},1032,["color"])):y("",!0),u.key==="action"?(_(),f(E,{key:1},[e(v,{type:"link",size:"small",onClick:P=>A(p)},{default:a(()=>[...t[5]||(t[5]=[l("查看",-1)])]),_:1},8,["onClick"]),e(v,{type:"link",size:"small",onClick:P=>w(p)},{default:a(()=>[...t[6]||(t[6]=[l("导出报告",-1)])]),_:1},8,["onClick"])],64)):y("",!0)]),_:1},8,["data-source"])]),_:1}),e(G,{open:m.value,"onUpdate:open":t[3]||(t[3]=u=>m.value=u),title:"MSA分析详情",width:"1000px",footer:null},{default:a(()=>[o.value?(_(),f("div",O,[e(C,{column:2,bordered:"",style:{"margin-bottom":"16px"}},{default:a(()=>[e(r,{label:"分析编号"},{default:a(()=>[l(s(o.value.analysisNo),1)]),_:1}),e(r,{label:"量具名称"},{default:a(()=>[l(s(o.value.gaugeName),1)]),_:1}),e(r,{label:"测量特性"},{default:a(()=>[l(s(o.value.characteristic),1)]),_:1}),e(r,{label:"分析日期"},{default:a(()=>[l(s(o.value.analysisDate),1)]),_:1})]),_:1}),e(b,{gutter:16},{default:a(()=>[e(c,{span:12},{default:a(()=>[e(g,{title:"Gage R&R结果",size:"small"},{default:a(()=>[e(C,{column:1,size:"small"},{default:a(()=>[e(r,{label:"EV(重复性)"},{default:a(()=>[l(s(o.value.ev)+"%",1)]),_:1}),e(r,{label:"AV(再现性)"},{default:a(()=>[l(s(o.value.av)+"%",1)]),_:1}),e(r,{label:"Gage R&R"},{default:a(()=>[l(s(o.value.gaugeRR)+"%",1)]),_:1}),e(r,{label:"PV(零件变差)"},{default:a(()=>[l(s(o.value.pv)+"%",1)]),_:1}),e(r,{label:"TV(总变差)"},{default:a(()=>[l(s(o.value.tv)+"%",1)]),_:1}),e(r,{label:"ndc(可区分类别数)"},{default:a(()=>[l(s(o.value.ndc),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(c,{span:12},{default:a(()=>[e(g,{title:"测量数据",size:"small"},{default:a(()=>[e(x,{columns:I,"data-source":o.value.measureData,size:"small",pagination:!1},null,8,["data-source"])]),_:1})]),_:1})]),_:1})])):y("",!0)]),_:1},8,["open"])])}}}),L=F(j,[["__scopeId","data-v-124f2d5d"]]);export{L as default};
