import{d as B,r as d,c as y,x as e,q as t,s as o,o as p,h as l,y as S,P as U,p as $,f as v,t as i,F as O}from"./index-BsO03Xlk.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const h={class:"fmea-page"},j={key:0},G=B({__name:"FMEA",setup(H){const E=d(!1),_=d(!1),k=d(""),x=d(""),s=d(),F=[{title:"产品/工序",dataIndex:"product",key:"product"},{title:"FMEA类型",dataIndex:"type",key:"type"},{title:"版本",dataIndex:"version",key:"version"},{title:"最高RPN",dataIndex:"rpn",key:"rpn"},{title:"负责人",dataIndex:"owner",key:"owner"},{title:"更新时间",dataIndex:"updateTime",key:"updateTime"},{title:"操作",key:"action"}],b=[{title:"工序",dataIndex:"process",key:"process"},{title:"失效模式",dataIndex:"failureMode",key:"failureMode"},{title:"失效后果",dataIndex:"failureEffect",key:"failureEffect"},{title:"严重度(S)",dataIndex:"severity",key:"severity"},{title:"发生率(O)",dataIndex:"occurrence",key:"occurrence"},{title:"探测度(D)",dataIndex:"detection",key:"detection"},{title:"RPN",dataIndex:"rpn",key:"rpn"},{title:"建议措施",dataIndex:"action",key:"action"}],g=d([{key:"1",product:"发动机缸体铸造",type:"过程FMEA",version:"V2.1",rpn:120,owner:"张工程师",updateTime:"2023-11-14",details:[{key:"1",process:"模具准备",failureMode:"模具温度不均",failureEffect:"铸件气孔",severity:7,occurrence:4,detection:5,rpn:140,action:"优化模具冷却系统"}]},{key:"2",product:"变速箱齿轮加工",type:"设计FMEA",version:"V1.5",rpn:80,owner:"李工程师",updateTime:"2023-11-13",details:[]}]),I=r=>r>=100?"red":r>=50?"orange":"green",A=r=>{s.value=r,_.value=!0},C=r=>{console.log("编辑FMEA:",r)};return(r,a)=>{const m=o("a-button"),f=o("a-col"),w=o("a-select"),T=o("a-input-search"),D=o("a-row"),N=o("a-tag"),M=o("a-table"),V=o("a-card"),u=o("a-descriptions-item"),z=o("a-descriptions"),P=o("a-modal");return p(),y("div",h,[e(V,{title:"FMEA失效模式分析",bordered:!1},{default:t(()=>[e(D,{gutter:16,style:{"margin-bottom":"16px"}},{default:t(()=>[e(f,{span:6},{default:t(()=>[e(m,{type:"primary",onClick:a[0]||(a[0]=n=>E.value=!0)},{default:t(()=>[e(S(U)),a[4]||(a[4]=l(" 新建FMEA ",-1))]),_:1})]),_:1}),e(f,{span:6},{default:t(()=>[e(w,{value:k.value,"onUpdate:value":a[1]||(a[1]=n=>k.value=n),placeholder:"FMEA类型",style:{width:"100%"},options:[{value:"design",label:"设计FMEA"},{value:"process",label:"过程FMEA"},{value:"system",label:"系统FMEA"}]},null,8,["value"])]),_:1}),e(f,{span:12},{default:t(()=>[e(T,{value:x.value,"onUpdate:value":a[2]||(a[2]=n=>x.value=n),placeholder:"搜索产品/工序"},null,8,["value"])]),_:1})]),_:1}),e(M,{columns:F,"data-source":g.value,pagination:{pageSize:10}},{bodyCell:t(({column:n,record:c})=>[n.key==="rpn"?(p(),$(N,{key:0,color:I(c.rpn)},{default:t(()=>[l(i(c.rpn),1)]),_:2},1032,["color"])):v("",!0),n.key==="action"?(p(),y(O,{key:1},[e(m,{type:"link",size:"small",onClick:R=>A(c)},{default:t(()=>[...a[5]||(a[5]=[l("查看",-1)])]),_:1},8,["onClick"]),e(m,{type:"link",size:"small",onClick:R=>C(c)},{default:t(()=>[...a[6]||(a[6]=[l("编辑",-1)])]),_:1},8,["onClick"])],64)):v("",!0)]),_:1},8,["data-source"])]),_:1}),e(P,{open:_.value,"onUpdate:open":a[3]||(a[3]=n=>_.value=n),title:"FMEA分析详情",width:"1200px",footer:null},{default:t(()=>[s.value?(p(),y("div",j,[e(z,{column:2,bordered:"",style:{"margin-bottom":"16px"}},{default:t(()=>[e(u,{label:"产品/工序"},{default:t(()=>[l(i(s.value.product),1)]),_:1}),e(u,{label:"FMEA类型"},{default:t(()=>[l(i(s.value.type),1)]),_:1}),e(u,{label:"版本"},{default:t(()=>[l(i(s.value.version),1)]),_:1}),e(u,{label:"负责人"},{default:t(()=>[l(i(s.value.owner),1)]),_:1})]),_:1}),e(M,{columns:b,"data-source":s.value.details,size:"small"},null,8,["data-source"])])):v("",!0)]),_:1},8,["open"])])}}}),L=q(G,[["__scopeId","data-v-723f9314"]]);export{L as default};
