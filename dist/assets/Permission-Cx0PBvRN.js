import{d as X,r as v,a as z,c as E,e as C,x as t,s as u,q as a,o as k,h as o,y as Y,P as Z,p as $,f as U,t as w,F as h}from"./index-BPMZt9Bz.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te={class:"permission-management"},ae={style:{"margin-bottom":"16px",display:"flex","justify-content":"space-between","align-items":"center"}},le=X({__name:"Permission",setup(ne){const g=v(""),T=v(""),I=v(""),f=v(!1),b=v(null),B=[{title:"权限名称",dataIndex:"name",key:"name"},{title:"权限编码",dataIndex:"code",key:"code"},{title:"权限类型",dataIndex:"type",key:"type"},{title:"上级权限",dataIndex:"parent",key:"parent"},{title:"路由路径",dataIndex:"path",key:"path"},{title:"图标",dataIndex:"icon",key:"icon"},{title:"排序",dataIndex:"sort",key:"sort"},{title:"状态",dataIndex:"status",key:"status"},{title:"创建时间",dataIndex:"createTime",key:"createTime"},{title:"操作",key:"action",width:200}],F=v([{key:"1",name:"系统管理",code:"system",type:"menu",parent:"根目录",path:"/system",icon:"SettingOutlined",sort:1,status:"active",createTime:"2023-01-01"},{key:"2",name:"用户管理",code:"system:user",type:"menu",parent:"系统管理",path:"/system/user",icon:"UserOutlined",sort:1,status:"active",createTime:"2023-01-01"},{key:"3",name:"查看用户",code:"system:user:view",type:"button",parent:"用户管理",path:"",icon:"",sort:1,status:"active",createTime:"2023-01-01"},{key:"4",name:"新增用户",code:"system:user:add",type:"button",parent:"用户管理",path:"",icon:"",sort:2,status:"active",createTime:"2023-01-01"}]),H=v([{title:"根目录",value:"",children:[{title:"系统管理",value:"system",children:[{title:"用户管理",value:"system:user"},{title:"角色管理",value:"system:role"},{title:"权限管理",value:"system:permission"}]},{title:"质量管理",value:"quality",children:[{title:"进货检验",value:"quality:incoming"},{title:"过程检验",value:"quality:process"},{title:"成品检验",value:"quality:product"}]}]}]),N=z({current:1,pageSize:10,total:4,showSizeChanger:!0,showQuickJumper:!0,showTotal:s=>`共 ${s} 条记录`}),n=z({name:"",code:"",type:"menu",parent:"",icon:"",path:"",component:"",sortOrder:0,isExternal:!1,isCache:!0,isHidden:!1,status:"active",level:"1",description:"",remark:""}),P=s=>({menu:"blue",button:"green",api:"orange"})[s]||"default",V=s=>({menu:"菜单",button:"按钮",api:"接口"})[s]||s,j=()=>{console.log("搜索:",g.value)},R=s=>{b.value=s,Object.assign(n,s),f.value=!0},D=s=>{s.status=s.status==="active"?"inactive":"active"},J=s=>{console.log("删除记录:",s)},M=()=>{console.log("保存:",n),f.value=!1,b.value=null,Object.assign(n,{name:"",code:"",type:"menu",parent:"",icon:"",path:"",component:"",sortOrder:0,isExternal:!1,isCache:!0,isHidden:!1,status:"active",level:"1",description:"",remark:""})};return(s,e)=>{const Q=u("a-input-search"),i=u("a-select-option"),y=u("a-select"),_=u("a-button"),O=u("a-tag"),A=u("a-table"),c=u("a-input"),d=u("a-form-item"),r=u("a-col"),m=u("a-row"),G=u("a-tree-select"),K=u("a-input-number"),x=u("a-switch"),q=u("a-textarea"),L=u("a-form"),W=u("a-modal");return k(),E("div",te,[C("div",ae,[C("div",null,[t(Q,{value:g.value,"onUpdate:value":e[0]||(e[0]=l=>g.value=l),placeholder:"搜索权限名称、编码",style:{width:"300px","margin-right":"16px"},onSearch:j},null,8,["value"]),t(y,{value:T.value,"onUpdate:value":e[1]||(e[1]=l=>T.value=l),placeholder:"权限类型",style:{width:"120px"}},{default:a(()=>[t(i,{value:""},{default:a(()=>[...e[19]||(e[19]=[o("全部",-1)])]),_:1}),t(i,{value:"menu"},{default:a(()=>[...e[20]||(e[20]=[o("菜单",-1)])]),_:1}),t(i,{value:"button"},{default:a(()=>[...e[21]||(e[21]=[o("按钮",-1)])]),_:1}),t(i,{value:"api"},{default:a(()=>[...e[22]||(e[22]=[o("接口",-1)])]),_:1})]),_:1},8,["value"]),t(y,{value:I.value,"onUpdate:value":e[2]||(e[2]=l=>I.value=l),placeholder:"状态筛选",style:{width:"120px"}},{default:a(()=>[t(i,{value:""},{default:a(()=>[...e[23]||(e[23]=[o("全部",-1)])]),_:1}),t(i,{value:"active"},{default:a(()=>[...e[24]||(e[24]=[o("启用",-1)])]),_:1}),t(i,{value:"inactive"},{default:a(()=>[...e[25]||(e[25]=[o("禁用",-1)])]),_:1})]),_:1},8,["value"])]),C("div",null,[t(_,{type:"primary",onClick:e[3]||(e[3]=l=>f.value=!0)},{default:a(()=>[t(Y(Z)),e[26]||(e[26]=o(" 新增权限 ",-1))]),_:1})])]),t(A,{columns:B,"data-source":F.value,pagination:N},{bodyCell:a(({column:l,record:p})=>[l.key==="type"?(k(),$(O,{key:0,color:P(p.type)},{default:a(()=>[o(w(V(p.type)),1)]),_:2},1032,["color"])):U("",!0),l.key==="status"?(k(),$(O,{key:1,color:p.status==="active"?"green":"red"},{default:a(()=>[o(w(p.status==="active"?"启用":"禁用"),1)]),_:2},1032,["color"])):U("",!0),l.key==="action"?(k(),E(h,{key:2},[t(_,{type:"link",size:"small",onClick:S=>R(p)},{default:a(()=>[...e[27]||(e[27]=[o("编辑",-1)])]),_:1},8,["onClick"]),t(_,{type:"link",size:"small",onClick:S=>D(p)},{default:a(()=>[o(w(p.status==="active"?"禁用":"启用"),1)]),_:2},1032,["onClick"]),t(_,{type:"link",size:"small",onClick:S=>J(p)},{default:a(()=>[...e[28]||(e[28]=[o("删除",-1)])]),_:1},8,["onClick"])],64)):U("",!0)]),_:1},8,["data-source","pagination"]),t(W,{open:f.value,"onUpdate:open":e[18]||(e[18]=l=>f.value=l),title:b.value?"编辑权限":"新增权限",width:"700px",onOk:M},{default:a(()=>[t(L,{model:n,layout:"vertical"},{default:a(()=>[t(m,{gutter:16},{default:a(()=>[t(r,{span:12},{default:a(()=>[t(d,{label:"权限名称",required:""},{default:a(()=>[t(c,{value:n.name,"onUpdate:value":e[4]||(e[4]=l=>n.name=l),placeholder:"输入权限名称"},null,8,["value"])]),_:1})]),_:1}),t(r,{span:12},{default:a(()=>[t(d,{label:"权限编码",required:""},{default:a(()=>[t(c,{value:n.code,"onUpdate:value":e[5]||(e[5]=l=>n.code=l),placeholder:"输入权限编码"},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(m,{gutter:16},{default:a(()=>[t(r,{span:12},{default:a(()=>[t(d,{label:"权限类型",required:""},{default:a(()=>[t(y,{value:n.type,"onUpdate:value":e[6]||(e[6]=l=>n.type=l),placeholder:"选择权限类型"},{default:a(()=>[t(i,{value:"menu"},{default:a(()=>[...e[29]||(e[29]=[o("菜单",-1)])]),_:1}),t(i,{value:"button"},{default:a(()=>[...e[30]||(e[30]=[o("按钮",-1)])]),_:1}),t(i,{value:"api"},{default:a(()=>[...e[31]||(e[31]=[o("接口",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1}),t(r,{span:12},{default:a(()=>[t(d,{label:"上级权限"},{default:a(()=>[t(G,{value:n.parent,"onUpdate:value":e[7]||(e[7]=l=>n.parent=l),"tree-data":H.value,placeholder:"选择上级权限","allow-clear":""},null,8,["value","tree-data"])]),_:1})]),_:1})]),_:1}),t(m,{gutter:16},{default:a(()=>[t(r,{span:12},{default:a(()=>[t(d,{label:"图标"},{default:a(()=>[t(c,{value:n.icon,"onUpdate:value":e[8]||(e[8]=l=>n.icon=l),placeholder:"输入图标名称"},null,8,["value"])]),_:1})]),_:1}),t(r,{span:12},{default:a(()=>[t(d,{label:"路由路径"},{default:a(()=>[t(c,{value:n.path,"onUpdate:value":e[9]||(e[9]=l=>n.path=l),placeholder:"输入路由路径"},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(m,{gutter:16},{default:a(()=>[t(r,{span:12},{default:a(()=>[t(d,{label:"组件路径"},{default:a(()=>[t(c,{value:n.component,"onUpdate:value":e[10]||(e[10]=l=>n.component=l),placeholder:"输入组件路径"},null,8,["value"])]),_:1})]),_:1}),t(r,{span:12},{default:a(()=>[t(d,{label:"排序号"},{default:a(()=>[t(K,{value:n.sortOrder,"onUpdate:value":e[11]||(e[11]=l=>n.sortOrder=l),placeholder:"输入排序号",style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(m,{gutter:16},{default:a(()=>[t(r,{span:12},{default:a(()=>[t(d,{label:"是否外链"},{default:a(()=>[t(x,{checked:n.isExternal,"onUpdate:checked":e[12]||(e[12]=l=>n.isExternal=l)},null,8,["checked"])]),_:1})]),_:1}),t(r,{span:12},{default:a(()=>[t(d,{label:"是否缓存"},{default:a(()=>[t(x,{checked:n.isCache,"onUpdate:checked":e[13]||(e[13]=l=>n.isCache=l)},null,8,["checked"])]),_:1})]),_:1})]),_:1}),t(m,{gutter:16},{default:a(()=>[t(r,{span:12},{default:a(()=>[t(d,{label:"是否隐藏"},{default:a(()=>[t(x,{checked:n.isHidden,"onUpdate:checked":e[14]||(e[14]=l=>n.isHidden=l)},null,8,["checked"])]),_:1})]),_:1}),t(r,{span:12},{default:a(()=>[t(d,{label:"状态"},{default:a(()=>[t(y,{value:n.status,"onUpdate:value":e[15]||(e[15]=l=>n.status=l),placeholder:"选择状态"},{default:a(()=>[t(i,{value:"active"},{default:a(()=>[...e[32]||(e[32]=[o("启用",-1)])]),_:1}),t(i,{value:"inactive"},{default:a(()=>[...e[33]||(e[33]=[o("禁用",-1)])]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),t(d,{label:"权限描述"},{default:a(()=>[t(q,{value:n.description,"onUpdate:value":e[16]||(e[16]=l=>n.description=l),placeholder:"输入权限描述"},null,8,["value"])]),_:1}),t(d,{label:"备注"},{default:a(()=>[t(q,{value:n.remark,"onUpdate:value":e[17]||(e[17]=l=>n.remark=l),placeholder:"输入备注信息"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])])}}}),se=ee(le,[["__scopeId","data-v-1920053c"]]);export{se as default};
