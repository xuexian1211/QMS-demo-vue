import{x as t,N as E,d as H,r as v,a as A,c as N,e as k,s as p,q as o,o as g,h as l,y as R,p as z,f as _,t as M,F as q}from"./index-BsO03Xlk.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";var G={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};function S(r){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?Object(arguments[n]):{},i=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(s).filter(function(m){return Object.getOwnPropertyDescriptor(s,m).enumerable}))),i.forEach(function(m){W(r,m,s[m])})}return r}function W(r,n,s){return n in r?Object.defineProperty(r,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[n]=s,r}var x=function(n,s){var i=S({},n,s.attrs);return t(E,S({},i,{icon:G}),null)};x.displayName="UploadOutlined";x.inheritAttrs=!1;const X={class:"document-management"},Y={style:{"margin-bottom":"16px",display:"flex","justify-content":"space-between","align-items":"center"}},Z=H({__name:"DocumentManagement",setup(r){const n=v(""),s=v(""),i=v(""),m=v([]),O=[{title:"文档编号",dataIndex:"docNo",key:"docNo"},{title:"文档名称",dataIndex:"docName",key:"docName"},{title:"版本",dataIndex:"version",key:"version"},{title:"分类",dataIndex:"category",key:"category"},{title:"文件大小",dataIndex:"fileSize",key:"fileSize"},{title:"上传人",dataIndex:"uploader",key:"uploader"},{title:"上传时间",dataIndex:"uploadTime",key:"uploadTime"},{title:"状态",dataIndex:"status",key:"status"},{title:"操作",key:"action"}],w=v([{key:"1",docNo:"QM-MAN-001",docName:"质量手册",version:"V2.1",category:"manual",fileSize:"2.5MB",uploader:"张三",uploadTime:"2023-11-14 09:30",status:"active"},{key:"2",docNo:"QM-PRO-002",docName:"IQC检验程序",version:"V1.5",category:"procedure",fileSize:"1.2MB",uploader:"李四",uploadTime:"2023-11-13 14:20",status:"active"},{key:"3",docNo:"QM-STD-003",docName:"汽车零配件检验标准",version:"V3.0",category:"standard",fileSize:"3.8MB",uploader:"王五",uploadTime:"2023-11-12 10:15",status:"active"},{key:"4",docNo:"QM-REC-004",docName:"检验记录表",version:"V1.0",category:"record",fileSize:"156KB",uploader:"赵六",uploadTime:"2023-11-11 16:45",status:"obsolete"}]),V=A({current:1,pageSize:10,total:4,showSizeChanger:!0,showQuickJumper:!0}),I=()=>{console.log("搜索文档:",n.value)},B=a=>({manual:"blue",procedure:"green",standard:"orange",record:"purple"})[a]||"default",T=a=>({manual:"操作手册",procedure:"程序文件",standard:"标准规范",record:"记录表单"})[a]||a,D=a=>(a.size/1024/1024<10||console.error("文件大小不能超过10MB!"),!1),U=a=>{console.log("上传状态:",a)},P=a=>{console.log("查看文档:",a)},Q=a=>{console.log("下载文档:",a)},j=a=>{console.log("编辑文档:",a)},$=a=>{console.log("版本历史:",a)};return(a,e)=>{const h=p("a-input-search"),d=p("a-select-option"),b=p("a-select"),f=p("a-button"),F=p("a-upload"),C=p("a-tag"),L=p("a-table");return g(),N("div",X,[k("div",Y,[k("div",null,[t(h,{value:n.value,"onUpdate:value":e[0]||(e[0]=u=>n.value=u),placeholder:"搜索文档名称、编号",style:{width:"300px","margin-right":"16px"},onSearch:I},null,8,["value"]),t(b,{value:s.value,"onUpdate:value":e[1]||(e[1]=u=>s.value=u),placeholder:"分类筛选",style:{width:"120px","margin-right":"16px"}},{default:o(()=>[t(d,{value:""},{default:o(()=>[...e[3]||(e[3]=[l("全部",-1)])]),_:1}),t(d,{value:"manual"},{default:o(()=>[...e[4]||(e[4]=[l("操作手册",-1)])]),_:1}),t(d,{value:"procedure"},{default:o(()=>[...e[5]||(e[5]=[l("程序文件",-1)])]),_:1}),t(d,{value:"standard"},{default:o(()=>[...e[6]||(e[6]=[l("标准规范",-1)])]),_:1}),t(d,{value:"record"},{default:o(()=>[...e[7]||(e[7]=[l("记录表单",-1)])]),_:1})]),_:1},8,["value"]),t(b,{value:i.value,"onUpdate:value":e[2]||(e[2]=u=>i.value=u),placeholder:"状态筛选",style:{width:"120px"}},{default:o(()=>[t(d,{value:""},{default:o(()=>[...e[8]||(e[8]=[l("全部",-1)])]),_:1}),t(d,{value:"active"},{default:o(()=>[...e[9]||(e[9]=[l("有效",-1)])]),_:1}),t(d,{value:"obsolete"},{default:o(()=>[...e[10]||(e[10]=[l("作废",-1)])]),_:1})]),_:1},8,["value"])]),k("div",null,[t(F,{"file-list":m.value,"before-upload":D,onChange:U},{default:o(()=>[t(f,null,{default:o(()=>[t(R(x)),e[11]||(e[11]=l(" 上传文档 ",-1))]),_:1})]),_:1},8,["file-list"])])]),t(L,{columns:O,"data-source":w.value,pagination:V},{bodyCell:o(({column:u,record:c})=>[u.key==="category"?(g(),z(C,{key:0,color:B(c.category)},{default:o(()=>[l(M(T(c.category)),1)]),_:2},1032,["color"])):_("",!0),u.key==="status"?(g(),z(C,{key:1,color:c.status==="active"?"green":"red"},{default:o(()=>[l(M(c.status==="active"?"有效":"作废"),1)]),_:2},1032,["color"])):_("",!0),u.key==="action"?(g(),N(q,{key:2},[t(f,{type:"link",size:"small",onClick:y=>P(c)},{default:o(()=>[...e[12]||(e[12]=[l("查看",-1)])]),_:1},8,["onClick"]),t(f,{type:"link",size:"small",onClick:y=>Q(c)},{default:o(()=>[...e[13]||(e[13]=[l("下载",-1)])]),_:1},8,["onClick"]),t(f,{type:"link",size:"small",onClick:y=>j(c)},{default:o(()=>[...e[14]||(e[14]=[l("编辑",-1)])]),_:1},8,["onClick"]),t(f,{type:"link",size:"small",onClick:y=>$(c)},{default:o(()=>[...e[15]||(e[15]=[l("版本历史",-1)])]),_:1},8,["onClick"])],64)):_("",!0)]),_:1},8,["data-source","pagination"])])}}}),te=J(Z,[["__scopeId","data-v-3981fdc3"]]);export{te as default};
