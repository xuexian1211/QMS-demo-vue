import{d as ae,r as c,k as P,a as L,p as w,q as l,y as C,_ as le,$ as te,o as v,e as x,x as e,s as r,h as f,P as oe,f as g,c as h,t as b,F as ne}from"./index-BsO03Xlk.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ue={class:"user-management"},re={style:{"margin-bottom":"16px",display:"flex","justify-content":"space-between","align-items":"center"}},ie={key:1},de={key:3},pe=ae({__name:"User",setup(me){const I=c(""),j=c(""),D=c(""),_=c(!1),k=c(!1),M=P(()=>k.value?"编辑用户":"新增用户"),q=P(()=>!k.value),z=[{title:"头像",dataIndex:"avatar",key:"avatar",width:80},{title:"用户名",dataIndex:"username",key:"username"},{title:"姓名",dataIndex:"name",key:"name"},{title:"工号",dataIndex:"employeeId",key:"employeeId"},{title:"性别",dataIndex:"gender",key:"gender",width:80},{title:"部门",dataIndex:"department",key:"department"},{title:"职位",dataIndex:"position",key:"position"},{title:"角色",dataIndex:"role",key:"role"},{title:"邮箱",dataIndex:"email",key:"email"},{title:"手机号",dataIndex:"phone",key:"phone"},{title:"入职日期",dataIndex:"joinDate",key:"joinDate"},{title:"状态",dataIndex:"status",key:"status"},{title:"最后登录",dataIndex:"lastLogin",key:"lastLogin"},{title:"操作",key:"action",width:200}],Y=c([{key:"1",avatar:"",username:"admin",name:"管理员",gender:"male",employeeId:"EMP001",department:"质量部",position:"系统管理员",role:"admin",email:"admin@qms.com",phone:"13800138001",joinDate:"2023-01-15",status:"active",lastLogin:"2023-12-01 10:30:00"},{key:"2",avatar:"",username:"zhangsan",name:"张三",gender:"male",employeeId:"EMP002",department:"质量部",position:"质量工程师",role:"user",email:"zhangsan@qms.com",phone:"13800138002",joinDate:"2023-03-20",status:"active",lastLogin:"2023-12-01 09:15:00"},{key:"3",avatar:"",username:"lisi",name:"李四",gender:"female",employeeId:"EMP003",department:"生产部",position:"生产主管",role:"manager",email:"lisi@qms.com",phone:"13800138003",joinDate:"2022-08-10",status:"active",lastLogin:"2023-11-30 16:45:00"}]),S=L({current:1,pageSize:10,total:3,showSizeChanger:!0,showQuickJumper:!0,showTotal:n=>`共 ${n} 条记录`}),o=L({username:"",employeeId:"",name:"",gender:"",email:"",phone:"",department:"",position:"",role:"",joinDate:"",supervisor:"",workLocation:"",password:"",confirmPassword:"",status:"active",sortOrder:0,remark:""}),N=()=>{console.log("搜索:",I.value)},$=n=>({admin:"系统管理员",manager:"部门经理",supervisor:"主管",user:"普通员工",auditor:"审核员"})[n]||n,E=()=>{try{k.value=!1,_.value=!0,Object.assign(o,{username:"",employeeId:"",name:"",gender:"",email:"",phone:"",department:"",position:"",role:"",joinDate:"",supervisor:"",workLocation:"",password:"",confirmPassword:"",status:"active",sortOrder:0,remark:""})}catch(n){console.error("创建用户时出错:",n)}},V=()=>{_.value=!1,k.value=!1,Object.assign(o,{username:"",employeeId:"",name:"",gender:"",email:"",phone:"",department:"",position:"",role:"",joinDate:"",supervisor:"",workLocation:"",password:"",confirmPassword:"",status:"active",sortOrder:0,remark:""})},B=n=>{try{k.value=!0,Object.assign(o,{username:n.username||"",employeeId:n.employeeId||"",name:n.name||"",gender:n.gender||"",email:n.email||"",phone:n.phone||"",department:n.department||"",position:n.position||"",role:n.role||"",joinDate:n.joinDate||"",supervisor:n.supervisor||"",workLocation:n.workLocation||"",password:"",confirmPassword:"",status:n.status||"active",sortOrder:n.sortOrder||0,remark:n.remark||""}),_.value=!0}catch(a){console.error("编辑用户时出错:",a)}},F=n=>{console.log("重置密码:",n)},T=n=>{n.status=n.status==="active"?"inactive":"active"},R=n=>{console.log("删除记录:",n)},A=()=>{console.log("保存:",o),_.value=!1,k.value=!1,Object.assign(o,{username:"",employeeId:"",name:"",gender:"",email:"",phone:"",department:"",position:"",role:"",joinDate:"",supervisor:"",workLocation:"",password:"",confirmPassword:"",status:"active",sortOrder:0,remark:""})};return(n,a)=>{const J=r("a-input-search"),p=r("a-select"),y=r("a-button"),Q=r("a-avatar"),G=r("a-tag"),H=r("a-table"),m=r("a-input"),s=r("a-form-item"),u=r("a-col"),d=r("a-row"),K=r("a-date-picker"),O=r("a-input-password"),W=r("a-input-number"),X=r("a-textarea"),Z=r("a-form"),ee=r("a-modal");return v(),w(C(te),{locale:C(le)},{default:l(()=>[x("div",ue,[x("div",re,[x("div",null,[e(J,{value:I.value,"onUpdate:value":a[0]||(a[0]=t=>I.value=t),placeholder:"搜索用户名、姓名、工号",style:{width:"300px","margin-right":"16px"},onSearch:N},null,8,["value"]),e(p,{value:j.value,"onUpdate:value":a[1]||(a[1]=t=>j.value=t),placeholder:"状态筛选",style:{width:"120px"},options:[{value:"",label:"全部"},{value:"active",label:"启用"},{value:"inactive",label:"禁用"}]},null,8,["value"]),e(p,{value:D.value,"onUpdate:value":a[2]||(a[2]=t=>D.value=t),placeholder:"部门筛选",style:{width:"120px"},options:[{value:"",label:"全部"},{value:"1",label:"质量部"},{value:"2",label:"生产部"},{value:"3",label:"技术部"}]},null,8,["value"])]),x("div",null,[e(y,{type:"primary",onClick:E},{default:l(()=>[e(C(oe)),a[21]||(a[21]=f(" 新增用户 ",-1))]),_:1})])]),e(H,{columns:z,"data-source":Y.value,pagination:S},{bodyCell:l(({column:t,record:i})=>[t.key==="avatar"?(v(),w(Q,{key:0,src:i.avatar,alt:i.name},{default:l(()=>[f(b(i.name.charAt(0)),1)]),_:2},1032,["src","alt"])):g("",!0),t.key==="gender"?(v(),h("span",ie,b(i.gender==="male"?"男":"女"),1)):g("",!0),t.key==="status"?(v(),w(G,{key:2,color:i.status==="active"?"green":i.status==="locked"?"orange":"red"},{default:l(()=>[f(b(i.status==="active"?"启用":i.status==="locked"?"锁定":"禁用"),1)]),_:2},1032,["color"])):g("",!0),t.key==="role"?(v(),h("span",de,b($(i.role)),1)):g("",!0),t.key==="action"?(v(),h(ne,{key:4},[e(y,{type:"link",size:"small",onClick:U=>B(i)},{default:l(()=>[...a[22]||(a[22]=[f("编辑",-1)])]),_:1},8,["onClick"]),e(y,{type:"link",size:"small",onClick:U=>F(i)},{default:l(()=>[...a[23]||(a[23]=[f("重置密码",-1)])]),_:1},8,["onClick"]),e(y,{type:"link",size:"small",onClick:U=>T(i)},{default:l(()=>[f(b(i.status==="active"?"禁用":"启用"),1)]),_:2},1032,["onClick"]),e(y,{type:"link",size:"small",onClick:U=>R(i)},{default:l(()=>[...a[24]||(a[24]=[f("删除",-1)])]),_:1},8,["onClick"])],64)):g("",!0)]),_:1},8,["data-source","pagination"]),e(ee,{open:_.value,"onUpdate:open":a[20]||(a[20]=t=>_.value=t),title:M.value,width:"700px",onOk:A,onCancel:V},{default:l(()=>[e(Z,{model:o,layout:"vertical"},{default:l(()=>[e(d,{gutter:16},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(s,{label:"用户名",required:""},{default:l(()=>[e(m,{value:o.username,"onUpdate:value":a[3]||(a[3]=t=>o.username=t),placeholder:"输入用户名"},null,8,["value"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(s,{label:"工号",required:""},{default:l(()=>[e(m,{value:o.employeeId,"onUpdate:value":a[4]||(a[4]=t=>o.employeeId=t),placeholder:"输入工号"},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(d,{gutter:16},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(s,{label:"姓名",required:""},{default:l(()=>[e(m,{value:o.name,"onUpdate:value":a[5]||(a[5]=t=>o.name=t),placeholder:"输入姓名"},null,8,["value"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(s,{label:"性别"},{default:l(()=>[e(p,{value:o.gender,"onUpdate:value":a[6]||(a[6]=t=>o.gender=t),placeholder:"选择性别",options:[{value:"male",label:"男"},{value:"female",label:"女"}]},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(d,{gutter:16},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(s,{label:"邮箱"},{default:l(()=>[e(m,{value:o.email,"onUpdate:value":a[7]||(a[7]=t=>o.email=t),placeholder:"输入邮箱地址"},null,8,["value"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(s,{label:"手机号"},{default:l(()=>[e(m,{value:o.phone,"onUpdate:value":a[8]||(a[8]=t=>o.phone=t),placeholder:"输入手机号码"},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(d,{gutter:16},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(s,{label:"所属部门",required:""},{default:l(()=>[e(p,{value:o.department,"onUpdate:value":a[9]||(a[9]=t=>o.department=t),placeholder:"选择所属部门",options:[{value:"1",label:"质量部"},{value:"2",label:"生产部"},{value:"3",label:"技术部"},{value:"4",label:"采购部"},{value:"5",label:"财务部"}]},null,8,["value"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(s,{label:"职位"},{default:l(()=>[e(m,{value:o.position,"onUpdate:value":a[10]||(a[10]=t=>o.position=t),placeholder:"输入职位名称"},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(d,{gutter:16},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(s,{label:"角色",required:""},{default:l(()=>[e(p,{value:o.role,"onUpdate:value":a[11]||(a[11]=t=>o.role=t),placeholder:"选择用户角色",options:[{value:"admin",label:"系统管理员"},{value:"manager",label:"部门经理"},{value:"supervisor",label:"主管"},{value:"user",label:"普通员工"},{value:"auditor",label:"审核员"}]},null,8,["value"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(s,{label:"入职日期"},{default:l(()=>[e(K,{value:o.joinDate,"onUpdate:value":a[12]||(a[12]=t=>o.joinDate=t),placeholder:"选择入职日期",style:{width:"100%"},format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",locale:{lang:{locale:"zh_CN"}}},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(d,{gutter:16},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(s,{label:"直接上级"},{default:l(()=>[e(p,{value:o.supervisor,"onUpdate:value":a[13]||(a[13]=t=>o.supervisor=t),placeholder:"选择直接上级","allow-clear":"",options:[{value:"1",label:"张经理"},{value:"2",label:"李主管"},{value:"3",label:"王总监"}]},null,8,["value"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(s,{label:"工作地点"},{default:l(()=>[e(m,{value:o.workLocation,"onUpdate:value":a[14]||(a[14]=t=>o.workLocation=t),placeholder:"输入工作地点"},null,8,["value"])]),_:1})]),_:1})]),_:1}),q.value?(v(),w(d,{key:0,gutter:16},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(s,{label:"密码",required:""},{default:l(()=>[e(O,{value:o.password,"onUpdate:value":a[15]||(a[15]=t=>o.password=t),placeholder:"输入登录密码"},null,8,["value"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(s,{label:"确认密码",required:""},{default:l(()=>[e(O,{value:o.confirmPassword,"onUpdate:value":a[16]||(a[16]=t=>o.confirmPassword=t),placeholder:"再次输入密码"},null,8,["value"])]),_:1})]),_:1})]),_:1})):g("",!0),e(d,{gutter:16},{default:l(()=>[e(u,{span:12},{default:l(()=>[e(s,{label:"账号状态"},{default:l(()=>[e(p,{value:o.status,"onUpdate:value":a[17]||(a[17]=t=>o.status=t),placeholder:"选择账号状态",options:[{value:"active",label:"启用"},{value:"inactive",label:"禁用"},{value:"locked",label:"锁定"}]},null,8,["value"])]),_:1})]),_:1}),e(u,{span:12},{default:l(()=>[e(s,{label:"排序号"},{default:l(()=>[e(W,{value:o.sortOrder,"onUpdate:value":a[18]||(a[18]=t=>o.sortOrder=t),placeholder:"输入排序号",min:0,style:{width:"100%"}},null,8,["value"])]),_:1})]),_:1})]),_:1}),e(s,{label:"备注"},{default:l(()=>[e(X,{value:o.remark,"onUpdate:value":a[19]||(a[19]=t=>o.remark=t),placeholder:"输入备注信息",rows:3},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","title"])])]),_:1},8,["locale"])}}}),_e=se(pe,[["__scopeId","data-v-637d755c"]]);export{_e as default};
