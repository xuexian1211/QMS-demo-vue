# 不良现象与字典库 (Defect Phenomenon / Cause) - 详细设计文档

## 1. 模块概述
**模块名称**：质量缺陷与失效原因特征库
**所属子系统**：质量主数据模块 (Quality Master Data)
**目标**：为产品检测中所有不符合项 (NC) 提供标准化的话术代码库和严重程度标识，避免车间工人与质检人员手写随意字句所造成的不利分析汇总局面；以及管理常见的根因分析 (RCA) 中的故障特征。

## 2. 界面布局与交互设计
### 2.1 不良现象库 (Defect Phenomenon List)
采用多维检索栏与表格方式：
- 提供严重等级 (`severity`) 以及 缺陷/失效分类（`processType` 例如外观不良、尺寸不良等）的过滤支持。
- 通过 Tag 给不同的质量严重程度赋予显性颜色控制（如：**CR (致命色:红)**、**MA (主要:橘色)**、**MI (次要:蓝)**）。

### 2.2 编辑与管理关联项模块
- 不仅仅是录入基本文字，也包括对不良现象在后续应用时的图片、缺陷指导手册的引用配置编辑组件。

## 3. 核心功能设计
### 3.1 不良特征定义机制
为防止数据“泛滥”，建立了不良字典。在检验环节记录数据时：只有从这里定义了特征之后（或动态添加），该特征才能通过 “检验项目关联表”（参考检验项目关联项功能）自动拉到相应的品质表单中。

### 3.2 不良原因分析源映射 (Defect Cause)
通过同步开发的分析页，将不良表象与其背后的产生机制（例如操作问题、材料问题、设计问题建立分类）。配合使用构成异常质量的 “现象→原因对策” 的闭环知识系统基础。

## 4. 数据模型 (Data Model)
**不良现象实体 (`DefectPhenomenon`)**:
- `code`: 失效模型专有的代号
- `name`: 即现象呈现，例如：生锈、偏移、划痕
- `severity`: 失效严重等级 (`CR`: 严重缺陷, `MA`: 主要缺陷, `MI`: 次要缺陷)
- `processType`: 所属环节种类域
- `description`: 具体定义解释

## 5. 约束与规则
- 严重度 `severity` 是作为核心流程驱动（触发评审）和系统汇总（拉出柏拉图及扣分权数）最关键的数据节点，不可进行粗糙变更。如果修改一个原本是次要的缺陷为致命，将会引流并放大历史表单问题的数据评估级别。
